{% extends "base.html" %}

{% block content %}
    <h1>Admin</h1>
    <p>To create/update a section access: <a href="{{ url_for('admin', section_code='new') }}">here</a></p>
    <p>To create/update a problem access: <a href="{{ url_for('admin', problem_code='new') }}">here</a></p>
    <p>To connect section and problem access: <a href="{{ url_for('connect_problem_section') }}">here</a></p>
    <table border="2">
	    <tr>
		    <th>Code</th>
		    <th>Name</th>
		    <th>Description</th>
		    <th>Visible</th>
	    </tr>
    {% for section in sections %}
    		<tr>
			<td><a href="{{ url_for('admin', section_code=section.code) }}">{{ section.code }}</a></td>
			<td>{{ section.name }}</td>
			<td>{{ section.description }}</td>
			<td>{{ section.visible }}</td>
		</tr>
    {% endfor %}
    <table border="2">
	    <tr>
		    <th>Code</th>
		    <th>Name</th>
		    <th>Short description</th>
		    <th>Visible</th>
	    </tr>
    {% for problem in problems %}
    		<tr>
			<td><a href="{{ url_for('admin', problem_code=problem.code) }}">{{ problem.code }}</a></td>
			<td>{{ problem.name }}</td>
			<td>{{ problem.shortdescription }}</td>
			<td>{{ problem.visible }}</td>
		</tr>
    {% endfor %}
    </table>
    <table border="2">
	    <tr>
		    <th>Username</th>
		    <th>E-mail</th>
		    <th>Admin</th>
	    </tr>
    {% for user in users %}
    		<tr>
			<td><a href="{{ url_for('user', user_id=user.username) }}">{{ user.username }}</a></td>
			<td>{{ user.email }}</td>
			<td>{{ user.admin }}</td>
		</tr>
    {% endfor %}
    </table>
{% endblock %}
